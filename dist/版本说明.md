# 版本说明

## 两个版本的区别

### 小瓷连网.exe（正常版）
- ✅ **保留完整日志功能**
- 日志文件位置：`%APPDATA%\CampusNet\campus_network.log`
- 适合：开发者、需要调试问题的用户
- 功能：记录所有运行信息，方便排查问题

### 小瓷连网_空白版.exe（无日志版）
- 🚫 **不生成日志文件**
- 不会在 `%APPDATA%\CampusNet` 目录下创建 `campus_network.log`
- 适合：分发给其他用户、不希望保留运行记录
- 功能：相同的认证功能，但不写入日志文件

## 如何编译

### 编译正常版（带日志）
```powershell
cd build
.\make_ps2exe_obf.ps1 -OutputName "小瓷连网.exe"
```

### 编译空白版（无日志）
```powershell
cd build
.\make_ps2exe_obf.ps1 -OutputName "小瓷连网_空白版.exe" -Blank -NoLog
```

## 技术实现

- 正常版使用：`scripts/start_auth.ps1`
- 无日志版使用：`scripts/start_auth_nolog.ps1`
- 区别：无日志版的 `Log` 函数只输出到控制台，不写入文件

## 重要说明

⚠️ 如果之前运行过旧版本，需要先清理 APPDATA 目录：
```powershell
Remove-Item "$env:APPDATA\CampusNet" -Recurse -Force
```

## 验证方法

运行程序后，检查 `%APPDATA%\CampusNet` 目录：
- **正常版**：应该有 `campus_network.log` 文件
- **无日志版**：不应该有 `campus_network.log` 文件

快捷键打开目录：按 `Win+R`，输入 `%APPDATA%\CampusNet`

